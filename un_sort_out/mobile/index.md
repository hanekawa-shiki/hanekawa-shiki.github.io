# 基本概念

## 1.像素

```shell
像素
    1.css像素/设备无关像素  --抽象单位
        相对单位,相对于物理像素
        *web开发的最小单位

    4.位图像素(图片像素)
        *图像的最小单位
        img标签:将位图像素转化为css像素

-------------------------------------------------------
设备相关

    2.物理像素/分辨率/设备像素  --相对单位(相对于屏幕尺寸)
        ip3--ip4,屏幕一样大,分辨率不一样
        *设备成像的最小单位

    3.设备独立像素/密度无关像素
        可以认为是计算机坐标系统中得一个点，这个点代表一个可以由程序使用的虚拟像素(比如: css像素)，然后由相关系统转换为物理像素。

    有什么用?
        我们可以把设备独立像素看成是设备提供出来的接口，用来对接应用的一些概念：比如浏览器中的css像素;只有当浏览器厂商对接上设备独立像素时，浏览器厂商设计的移动端规则才能启作用,否则采取默认的规则。

总结:
    由于物理像素，设备独立像素，像素比都是设备中的概念与浏览器没有一点关系，在设备出厂时这些参数就定了。所以在默认情况下，设备独立像素和像素比在web开发中毫无意义
为什么？
    因为默认情况下，设备独立像素，像素比跟浏览器没有一点关系，都是设备的东西。
```

```shell
像素比 = 物理像素 / 独立设备像素
    (比较的是个数,不是面积)
    一个方向上设备所占据的物理像素的个数 / 一个方向上设备所占据的独立设备像素的个数
```

### css像素与物理像素

```shell
比较屏幕大小,不能使用分辨率
设备没有css像素概念,只有web开发有


css像素与物理像素
    一个width为200px的元素，它占据了200个css像素，但200个css像素占据多少个物理像素取决于屏幕的特性（是否是高密度,即像素比）和用户的缩放行为。
    在苹果的视网膜屏幕上，视网膜的像素密度是普通屏幕的两倍，这个元素就跨越了400个设备像素。如果用户放大，它将跨越更多的设备像素

注意css像素与物理像素的关系是靠浏览器厂商在维护，并不是设备厂商。
css像素是浏览器中特有的概念
```

### 位图像素与物理像素

```shell
图片完美清晰展示的前提
    一个物理像素对应上  一个位图像素    图片完美清晰的展现
    多个物理像素对应上   一个位图像素   失帧
    一个物理像素对应上   多个位图像素   锐化
```

## 2.视口(css像素)

```shell
视口是浏览器的概念

布局视口--决定页面布局-->好处?不会重绘重排
    一个能够包容pc端页面大小的容器
    能让移动端浏览器放下pc端,默认980css像素

视觉视口--决定
    视觉视口的宽度等于屏幕的宽度
    不过视觉视口的css像素的数量会随着用户的缩放而改变。
        放大--导致一个css像素变大 屏幕内css像素的个数变少 视觉视口的尺寸变小
        缩小--导致一个css像素变大 屏幕内css像素的个数变多 视觉视口的尺寸变大

理想视口--默认情况下 视觉视口 = 布局视口
    布局视口的默认宽度并不是一个理想的宽度，对于我们移动设备来说，最理想的情况是:
        用户刚进入页面时不再需要缩放。
        只有是专门为移动设备开发的网站，他才有理想视口这一说。
    viewport的meta标签

    理想视口包含的css像素的个数等于独立设备像素的值

    定义理想视口是浏览器厂商的工作，而不是设备或操作系统的工作。
        因此同一设备上的不同浏览器拥有不同的理想视口。
    但是浏览器理想视口大小取决于设备。
        同一款浏览器在不同设备上拥有不同的理想视口。
```

```shell
布局视口与视觉视口的关系
    从物理像素的角度出发，视觉视口包含物理像素的个数永远等于设备的分辨率;
    从css像素角度出发，我们无法准确的判断视觉视口的尺寸，因为视觉视口所包含的css像素的个数跟用户的缩放行为有关;
    默认情况下，即在物理像素与css像素1:1的情况下，我们可以说一个视觉视口包含该设备分辨率的值所代表的css像素个数。
```

## 3.`viewport`

```shell
<meta name = 'viewport' wi...>
```

```shell
BUG
    width = device-width
    div with=500

解决:完美视口
    同时写上width = device-width  initaial-scale = 1.0
```

```shell
width = device-width
布局视口的宽度 = 理想是楼的宽度
像素比 = 一个方向上物理像素的个数 / 一个方向上css像素的个数
```

```shell
initaial-scale = 1.0  相对于理想视口
系统缩放 改变布局视口/改变视觉视口
```

```shell
user-scalable = no禁止用户缩放
minimum-scale=1
maximum-scale=
```

## 适配方案

```shell
等比
```

```shell
当使用meta标签后保持等比
默认情况下适配
```

```js
//rem适配方案

(function(){
    var style = document.createElement("style");
    var width = document.documentElement.clientWidth/10;
    style.innerHTML = `html{font-size:${width}px!important}`
    document.head.appendChild(style)
})()
```

```shell
百分比适配
    优势:不用适配方案
    劣势:维护费劲
```

```js
/*
暴力方案(viewport适配)
只兼容苹果/高版本安卓
content="width = 750"

动态调整initaial-scale
    小公司特别喜欢的方案,所量即所得
*/
var targetW = 750;
var scale =document.documentElement.clientWidth/targetW;
var metaNode = document.querySelector("meta[name=viewport]");
metaNode.content =`initial-scale=${scale}`
```

```shell
百分比适配
    优势:不用适配方案
    劣势:维护费劲

rem适配方案(不能使用2x/3x)
    优点:没有破坏完美视口
    缺点:计算复杂

viewport适配(可以使用2x/3x)
    优点;所量即所得
    缺点:破坏了完美视口
```
