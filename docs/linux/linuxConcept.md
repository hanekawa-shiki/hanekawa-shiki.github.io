---
article: false
---

## 路径

Linux 的文件系统则像一棵倒长的树，它只有一个根：`/`

**绝对路径**（absolute path）总是以根目录`/` 开头，

**相对路径**（relative path）总是以当前目录开头

## 文件权限

**文件权限**（file permission）由4个子串拼接而成
- 文件类型（1位）
- 所有者权限（3位）
- 组用户权限（3位）
- 其他用户权限（3位）

```Ruby
achao@starship:/bin$ ls -l /etc
total 1236
drwxr-xr-x 3 root root      4096 Jul 29 18:56 acpi
-rw-r--r-- 1 root root      3028 Jul 29 18:28 adduser.conf
...
```

常见的文件类型有-（代表文件）、d（代表目录）和l（代表链接）

`Linux`的权限系统沿袭了`Unix`的规则：每个系统上都有多个用户（user），这些用户分属于不同的组（group），其中有一个名为`root`的用户是系统管理员，拥有对系统完全的控制权，包括规定其他用户的权限。每个文件或者目录都被指定一个用户作为它的所有者（owner），所有者能对属于自己的文件或者目录做什么，就定义在所有者权限这3个字符中。上面acpi的所有者权限为rwx，表示该目录的所有者（我们暂且叫他X）对它有读（read）、写（write）和执行（execute）权限。而`adduser.conf`的所有者权限为rw-，表示X 只能对它进行读和写操作，不能运行它。

组用户权限规定了与X 同组的其他用户对这个文件`/`目录的权限，比如`acpi`的组用户权限是r-x，表示与X同组的其他用户只能读和执行（对于文件夹来说，执行就意味着将该目录作为当前工作目录），不能写（更改、删除）；`adduser.conf`的组用户权限是r--，表示与X同组的其他用户只能读这个文件（对于文件来说，读代表查看文件内容），不能写（更改、删除）和执行。

**其他用户**指不与X同组的其他所有用户，它们的权限由权限标志的最后3个字符确定。

**最小权限原则**（principle of least privilege，PoLP），其主要内容是：如果只需要权限集合A就能完成一项任务，就不要使用比它更大的权限集合B。换句话说，完成任务的模块拥有的权限越少越好。

为什么要了解用户、组之类的概念呢？

我们知道计算机是20世纪40年代出现的，而个人计算机（personal computer）最早诞生于20世纪70年代，在其间的几十年里，计算机的造价十分高昂，只有部分大学和研究机构买得起，由专业部门管理和维护，供多个用户使用，`Unix`正是基于这样的使用模式设计的。为了避免用户误操作或者恶意攻击对系统造成损害，就有了现在我们看到的权限系统。那么对于个人计算机，能不能关闭权限系统呢？当然可以，比如我们可以用`chown`（change ownership命令将所有文件、目录的权限都设置为rwxrwxrwx，即所有用户对所有文件都拥有全部权限，效果和关闭权限系统类似。但安全和便利是一枚硬币的两面。实践证明，只追求便利、完全放开权限会导致系统故障频发，用户要花费大量时间重新安装系统，更新损坏的硬件。比较好的方法是在二者之间保持合理的平衡，在权限系统的保护下，提供一些工具提升便利性。这类工具中最常用的是`sudo`，它的基本思路是：对于值得信任的用户（`Linux`术语叫`sudoer`，即有权力执行`sudo`命令的人），比如个人计算机的拥有者，能以`root`的身份执行命令。


## `Unix`哲学

- Everything is a file.
- 没有消息就是最好的消息
- 一个工具只做一件事


## `Linux`原则

- 最少打扰原则
- 