import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as e,o as t}from"./app-D9HBoMNX.js";const n={};function h(l,i){return t(),a("div",null,[...i[0]||(i[0]=[e(`<h1 id="openmediavault提示gpg公钥错误解决思路" tabindex="-1"><a class="header-anchor" href="#openmediavault提示gpg公钥错误解决思路"><span><code>openmediavault</code>提示<code>GPG</code>公钥错误解决思路</span></a></h1><p>问题现象：执行<code>apt update</code>时报以下错误</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">W:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GPG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> error:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bookworm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> InRelease:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> The</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> following</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> signatures</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> couldn&#39;t be verified because the public key is not available: NO_PUBKEY 7EA0A9C3F273FCD8</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">E: The repository &#39;https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bookworm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> InRelease&#39; is not signed.</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">N: Updating from such a repository can&#39;t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> done</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> securely,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> therefore</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disabled</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> default.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">N:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> See</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-secure</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">manpage</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> repository</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> creation</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> details.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-检查仓库配置" tabindex="-1"><a class="header-anchor" href="#_1-检查仓库配置"><span>1.检查仓库配置</span></a></h2><p>确认Docker的APT源文件（通常位于<code>/etc/apt/sources.list.d/docker.list</code>）是否正确引用了密钥。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">deb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [signed-by=/usr/share/keyrings/docker.gpg </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">arch=amd64]</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bookworm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stable</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2-根据signed-by路径查看gpg公钥" tabindex="-1"><a class="header-anchor" href="#_2-根据signed-by路径查看gpg公钥"><span>2.根据<code>signed-by</code>路径查看<code>GPG</code>公钥</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/keyrings/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>ll</code>命令查看对应<code>gpg</code>文件信息，我这边是对应公钥文件大小为0，所以需要删除重新下载公钥。</p><h2 id="_3-重新下载或者替换公钥" tabindex="-1"><a class="header-anchor" href="#_3-重新下载或者替换公钥"><span>3.重新下载或者替换公钥</span></a></h2><p>我这边是重新下载<code>Docker</code>官方<code>GPG</code>密钥，主要保存的文件名称需要跟<code>signed-by</code>路径对应上</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -fsSL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://download.docker.com/linux/debian/gpg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gpg</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --dearmor</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/keyrings/docker.gpg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_4-验证" tabindex="-1"><a class="header-anchor" href="#_4-验证"><span>4.验证</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,14)])])}const k=s(n,[["render",h]]),p=JSON.parse('{"path":"/linux/GPG.html","title":"openmediavault提示GPG公钥错误解决思路","lang":"zh-CN","frontmatter":{"article":true,"date":"2025-04-05T00:00:00.000Z","category":"linux","tag":["openmediavault"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"openmediavault提示GPG公钥错误解决思路\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-04-05T00:00:00.000Z\\",\\"dateModified\\":\\"2025-04-05T03:03:19.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"hanekawa-shiki\\",\\"url\\":\\"https://hanekawa.top\\"}]}"],["meta",{"property":"og:url","content":"https://hanekawa.top/linux/GPG.html"}],["meta",{"property":"og:site_name","content":"hanekawa-shiki"}],["meta",{"property":"og:title","content":"openmediavault提示GPG公钥错误解决思路"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-05T03:03:19.000Z"}],["meta",{"property":"article:tag","content":"openmediavault"}],["meta",{"property":"article:published_time","content":"2025-04-05T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-05T03:03:19.000Z"}]]},"git":{"createdTime":1743821704000,"updatedTime":1743822199000,"contributors":[{"name":"shiki","username":"shiki","email":"kamiacgxu@gmail.com","commits":3,"url":"https://github.com/shiki"}]},"readingTime":{"minutes":0.87,"words":260},"filePathRelative":"linux/GPG.md","excerpt":""}');export{k as comp,p as data};
